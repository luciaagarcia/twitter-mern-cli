(this["webpackJsonptwitter-cli-2021"]=this["webpackJsonptwitter-cli-2021"]||[]).push([[0],{29:function(e,t,c){},42:function(e,t,c){},52:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(19),a=c.n(s),i=c(45),j=c(10),r=(c(51),c(52),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,112)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))}),l=c(11),o=c(86),b=c(93),d=c(89),h=c(90),x=c(94),O=c(95),u=c(96),g=c(97),m=c(98),f=c(85),p=c(87),v=c(88),S=c(91),y=c(92),I=(c(29),c(21)),k=c(20),M=c(44),C={baseURL_API:"https://twitter-mern-api.herokuapp.com/",clientID:"421050361051-3u7nrdi2tvqk9sqtd2qfkqpsg75g8mdi.apps.googleusercontent.com"},w=c.n(M).a.create({baseURL:C.baseURL_API});var D=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],L=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"];function P(e){return L[e.getDay()]+", "+e.getDate()+" "+D[e.getMonth()]+" "+e.getFullYear()+", "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}var N=c(2);function E(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(0),i=Object(l.a)(a,2),j=i[0],r=i[1],b=Object(n.useState)(0),x=Object(l.a)(b,2),O=x[0],u=x[1],g=function(){w.get("/posts").then((function(e){return e.data})).then((function(e){s(e)}))};return Object(n.useEffect)((function(){g()}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)(f.a,{tag:"center",children:Object(N.jsxs)(o.a,{color:"primary",children:[Object(N.jsx)("strong",{children:"Posts publicados "}),Object(N.jsx)(p.a,{pill:!0,children:c.length})]})}),Object(N.jsx)(v.a,{children:Object(N.jsx)("tbody",{children:c.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsx)(S.a,{children:Object(N.jsxs)(y.a,{children:[Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsxs)("strong",{children:[Object(N.jsx)("img",{src:e.image,alt:"Img"})," ",e.user]})})}),Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{id:"text-tweet",children:e.message})}),Object(N.jsxs)(d.a,{children:[Object(N.jsx)(h.a,{align:"left",xs:"5",children:Object(N.jsxs)(d.a,{id:"iconos-tweet",children:[Object(N.jsx)(h.a,{xs:"2",children:Object(N.jsx)(k.a,{})}),Object(N.jsxs)(h.a,{xs:"2",children:[Object(N.jsx)(I.b,{onClick:function(){return r(j+1)}}),Object(N.jsx)("small",{children:j})]}),Object(N.jsxs)(h.a,{xs:"2",children:[Object(N.jsx)(I.a,{onClick:function(){return u(O+1)}}),Object(N.jsx)("small",{children:O})]}),Object(N.jsx)(h.a,{xs:"2",children:Object(N.jsx)(k.b,{})})]})}),Object(N.jsx)(h.a,{align:"right",children:Object(N.jsx)("small",{children:P(new Date(e.publicationdate))})})]})]})})})}),Object(N.jsx)("br",{})]})}))})})]})}var A=c(23),F=c.p+"static/media/bird.7a65b904.png",T={maxWidth:"85px"};var J=c(99),q=c(100),B=c(22);c(42);function U(e){return Object(N.jsxs)(x.a,{color:"primary",light:!0,expand:"md",children:[Object(N.jsxs)(u.a,{children:[Object(N.jsx)(B.a,{color:"black"}),Object(N.jsxs)("span",{className:"text-title",children:[Object(N.jsx)("strong",{children:" Dashboard:"})," ",sessionStorage.getItem("name")]})]}),Object(N.jsx)(J.a,{navbar:!0,children:Object(N.jsxs)(g.a,{className:"ml-auto",navbar:!0,children:[Object(N.jsx)(m.a,{children:Object(N.jsx)(q.a,{href:"#",onClick:function(){return e.onShow(1)},children:Object(N.jsx)("span",{className:"text-title",children:"Todos los Posts"})})}),Object(N.jsx)(m.a,{children:Object(N.jsx)(q.a,{href:"#",onClick:function(){return e.onShow(2)},children:Object(N.jsx)("span",{className:"text-title",children:"Mis Posts"})})}),Object(N.jsx)(m.a,{children:Object(N.jsx)(A.GoogleLogout,{clientId:C.clientID,buttonText:"Logout",theme:"dark",onLogoutSuccess:e.onLogout})})]})})]})}var _=c(6),G=c.n(_),K=c(111),R=c(106),z=c(107),H=c(108),V=c(105),W=c(109),Y=c(110),Q=c(101),X=c(102),Z=c(103),$=c(104);function ee(e){var t=Object(n.useState)(""),c=Object(l.a)(t,2),s=c[0],a=c[1],i=function(t){"OK"===t&&e.updateMyPosts()};return Object(N.jsx)("div",{children:Object(N.jsxs)(S.a,{body:!0,children:[Object(N.jsx)(f.a,{tag:"h5",children:"A\xf1adir un nuevo post"}),Object(N.jsxs)(Q.a,{children:[Object(N.jsxs)(X.a,{children:[Object(N.jsx)(Z.a,{for:"aMensaje",children:"Mensaje"}),Object(N.jsx)($.a,{style:{height:"200px"},type:"textarea",name:"message",value:s,id:"aMensaje",placeholder:"Introduce un mensaje",onChange:function(e){return a(e.target.value)}})]}),Object(N.jsx)(V.a,{color:"primary",onClick:function(e){e.preventDefault(),function(e,t,c,n){return w.post("/posts",{email:e,user:t,image:c,message:n}).then((function(e){return e.data}))}(sessionStorage.getItem("email"),sessionStorage.getItem("name"),sessionStorage.getItem("image"),s).then((function(e){return i(e)}))},children:"A\xf1adir"})]})]})})}function te(e){var t=Object(n.useState)(e.post.message),c=Object(l.a)(t,2),s=c[0],a=c[1],i=function(t){"OK"===t&&e.updateMyPosts()};return Object(n.useEffect)((function(){a(e.post.message)}),[e.post]),Object(N.jsx)("div",{children:Object(N.jsxs)(S.a,{body:!0,children:[Object(N.jsx)(f.a,{tag:"h5",children:"Editar post"}),Object(N.jsxs)(Q.a,{children:[Object(N.jsxs)(X.a,{children:[Object(N.jsx)(Z.a,{for:"aDescripcion",children:"Mensaje"}),Object(N.jsx)($.a,{style:{height:"200px"},type:"textarea",name:"message",id:"aDescripcion",placeholder:"Introduce un mensaje",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(N.jsx)(V.a,{color:"primary",onClick:function(t){t.preventDefault(),function(e,t){return w.put("/posts/"+e,{message:t}).then((function(e){return e.data}))}(e.post._id,s).then((function(e){return i(e)}))},children:"Actualizar"})]})]})})}function ce(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(Object(N.jsx)(o.a,{color:"warning",children:"Seleccione editar un post de la lista"})),j=Object(l.a)(i,2),r=j[0],b=j[1],x=Object(n.useState)("1"),O=Object(l.a)(x,2),u=O[0],M=O[1],C=Object(n.useState)(null),D=Object(l.a)(C,2),L=D[0],E=D[1],A=function(){var e;(e=sessionStorage.getItem("email"),w.get("/posts/all/"+e).then((function(e){return e.data}))).then((function(e){a(e)}))},F=function(e){u!==e&&M(e)},T=function(){A()},J=function(e){var t;(t=e._id,w.delete("/posts/"+t).then((function(e){return e.data}))).then((function(e){return U(e)}))},U=function(e){"OK"===e&&(E(null),b(Object(N.jsx)(o.a,{color:"warning",children:"Seleccione editar un post de la lista"})),T())};return Object(n.useEffect)((function(){A()}),[]),Object(N.jsxs)("div",{children:[L,Object(N.jsxs)(d.a,{children:[Object(N.jsxs)(h.a,{xs:"7",children:[Object(N.jsx)(f.a,{tag:"center",children:Object(N.jsxs)(o.a,{color:"primary",children:[Object(N.jsx)("strong",{children:"Mis Posts publicados "}),Object(N.jsx)(p.a,{pill:!0,children:s.length})]})}),Object(N.jsx)(v.a,{children:Object(N.jsx)("tbody",{children:s.map((function(t,c){return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsx)(S.a,{children:Object(N.jsxs)(y.a,{children:[Object(N.jsxs)(d.a,{children:[Object(N.jsx)(h.a,{children:Object(N.jsxs)("strong",{children:[Object(N.jsx)("img",{src:t.image,alt:"Img"})," ",t.user]})}),Object(N.jsxs)(h.a,{align:"right",children:[Object(N.jsx)(V.a,{outline:!0,onClick:function(){return function(e){b(Object(N.jsx)(te,{post:e,updateMyPosts:T}))}(t)},children:Object(N.jsx)(B.b,{})})," ",Object(N.jsx)(V.a,{outline:!0,onClick:function(){return function(t){E(Object(N.jsxs)(K.a,{isOpen:"true",className:e.className,children:[Object(N.jsx)(R.a,{children:"Eliminar post"}),Object(N.jsxs)(z.a,{children:["Se va a eliminar el post:",Object(N.jsx)("br",{}),Object(N.jsx)("small",{children:Object(N.jsx)("strong",{children:t.message})})]}),Object(N.jsxs)(H.a,{children:[Object(N.jsx)(V.a,{color:"primary",onClick:function(){return J(t)},children:"Eliminar"})," ",Object(N.jsx)(V.a,{color:"secondary",onClick:function(){return E(null)},children:"Cancelar"})]})]}))}(t)},children:Object(N.jsx)(B.c,{})})]})]}),Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:t.message})}),Object(N.jsxs)(d.a,{children:[Object(N.jsx)(h.a,{align:"left",xs:"8",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(h.a,{xs:"2",children:Object(N.jsx)(k.a,{})}),Object(N.jsxs)(h.a,{xs:"2",children:[Object(N.jsx)(I.b,{}),Object(N.jsx)("small",{children:Math.floor(10*Math.random()+1)})]}),Object(N.jsxs)(h.a,{xs:"2",children:[Object(N.jsx)(I.a,{}),Object(N.jsx)("small",{children:Math.floor(100*Math.random()+1)})]}),Object(N.jsx)(h.a,{xs:"2",children:Object(N.jsx)(k.b,{})})]})}),Object(N.jsx)(h.a,{align:"right",children:Object(N.jsx)("small",{children:P(new Date(t.publicationdate))})})]})]})})})}),Object(N.jsx)("br",{})]})})}))})})]}),Object(N.jsxs)(h.a,{xs:"5",children:[Object(N.jsxs)(g.a,{tabs:!0,children:[Object(N.jsx)(m.a,{children:Object(N.jsx)(q.a,{href:"#",className:G()({active:"1"===u}),onClick:function(){return F("1")},children:"A\xf1adir"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)(q.a,{href:"#",className:G()({active:"2"===u}),onClick:function(){return F("2")},children:"Editar"})})]}),Object(N.jsxs)(W.a,{activeTab:u,children:[Object(N.jsx)(Y.a,{tabId:"1",children:Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{sm:"12",children:Object(N.jsx)(ee,{updateMyPosts:T})})})}),Object(N.jsx)(Y.a,{tabId:"2",children:Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{sm:"12",children:r})})})]})]})]})]})}a.a.render(Object(N.jsx)(i.a,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{exact:!0,path:"/",component:function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),s=c[0],a=c[1];return Object(N.jsxs)(b.a,{children:[Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsxs)(x.a,{color:"primary",light:!0,expand:"md",children:[Object(N.jsx)(O.a,{style:T,object:!0,src:F,alt:"Bird"}),Object(N.jsx)(u.a,{children:Object(N.jsx)("h4",{className:"text-white",children:"Twitter"})}),Object(N.jsx)(g.a,{className:"ml-auto",navbar:!0,children:Object(N.jsxs)(m.a,{children:[s,Object(N.jsx)(A.GoogleLogin,{clientId:C.clientID,buttonText:"Login with Google",theme:"dark",onSuccess:function(t){var c=t.getBasicProfile();sessionStorage.setItem("name",c.getName()),sessionStorage.setItem("email",c.getEmail()),sessionStorage.setItem("image",c.getImageUrl()),e.history.push("/home")},onFailure:function(e){a(Object(N.jsx)(o.a,{color:"danger",children:"Inicio de sesi\xf3n incorrecto. Int\xe9ntelo de nuevo"}))}})]})})]})})}),Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{xs:"12",children:Object(N.jsx)(E,{})})})]})}}),Object(N.jsx)(j.a,{path:"/home",component:function(e){var t=Object(n.useState)(Object(N.jsx)(E,{})),c=Object(l.a)(t,2),s=c[0],a=c[1];if(null!==sessionStorage.getItem("name"))return Object(N.jsxs)(b.a,{children:[Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{children:Object(N.jsx)(U,{onLogout:function(){sessionStorage.clear(),e.history.push("/")},onShow:function(e){1===e?a(Object(N.jsx)(E,{})):2===e&&a(Object(N.jsx)(ce,{}))}})})}),Object(N.jsx)(d.a,{children:Object(N.jsx)(h.a,{xs:"12",children:s})})]});e.history.push("/")}})]})}),document.getElementById("root")),r()}},[[84,1,2]]]);
//# sourceMappingURL=main.286fd3a0.chunk.js.map